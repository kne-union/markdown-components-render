"use strict";(self.webpackChunk_kne_components_markdown_components_render=self.webpackChunk_kne_components_markdown_components_render||[]).push([[830],{71830:(e,n,t)=>{t.r(n),t.d(n,{MarkdownComponents:()=>b,default:()=>O,markdownComponentsPlugin:()=>f,preset:()=>h});var r=t(94922),o=t.n(r),s=t(74358),c=t(54137),p=t(14225),i=t.n(p),a=t(41105),u=t(78678),m=t(64755),l=t.n(m);const d=(new(i())).compile({type:"object",properties:{"md-components":{type:"object",properties:{type:{type:"string"},props:{type:"object"}},required:["type","props"]}},required:["md-components"]}),f=function(e){const n=e.renderer.rules.fence,t=e.renderer.rules.code_inline;e.renderer.rules.code_inline=function(e,n,r,o,s){const c=e[n];try{if(/^md-components/.test(c.content)){const e=/md-components:(\w+)\{([^}]+)}/g;let n;const t=[];for(;null!==(n=e.exec(c.content));)t.push({componentsType:n[1],props:n[2]});if(t.length>0)return t.map(e=>{let{componentsType:n,props:t}=e;const r={"md-components":{type:n,props:JSON.parse("{".concat(t,"}"))}};if(d(r)){const e=document.createElement("code");return e.setAttribute("class","md-components"),e.dataset.components=JSON.stringify(r),e.outerHTML}return""}).join("")}}catch(p){console.warn(p)}return t(e,n,r,o,s)},e.renderer.rules.fence=function(e,t,r,o,s){const p=e[t];if("yml"===p.info.trim())try{const e=c.Ay.load(p.content);if(d(e)){const n=document.createElement("pre");return n.setAttribute("class","md-components"),n.dataset.components=JSON.stringify(e),n.outerHTML}}catch(i){console.warn(i)}return n(e,t,r,o,s)}},y=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e))return e.map(e=>y(e,n));if(e&&"[object Object]"===e.toString()&&Object.keys(e).length>0){const t={};return Object.keys(e).forEach(r=>{t[r]=y(e[r],n)}),t}return e&&"string"===typeof e&&"$"===e.charAt(0)&&n&&n[e.substring(1)]?n[e.substring(1)]:e},b=e=>{let{html:n,variables:t,components:r={}}=e;return(0,a.Ay)(n,{replace(e){if(e.attribs&&"md-components"===e.attribs.class&&e.attribs["data-components"]){const n=JSON.parse(e.attribs["data-components"]);if(!n["md-components"])return null;const{type:s,props:c}=n["md-components"],p=r[s];return p?o().createElement(p,Object.assign({},y(c,t))):null}return e}})},g={};var h=e=>Object.assign(g,e);const k=["children","render"],O=e=>{let{children:n="",render:t}=e,c=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,k);const{htmlTransform:p,components:i={},variables:a={},options:m}=l()({},g,c),d=(0,u.A)(e=>{const{config:n,plugins:t}=Object.assign({},m,{config:{},plugins:[]}),r=(0,s.A)(n);t.forEach(e=>{const n=Array.isArray(e)?e:[e];r.use(...n)}),r.use(f);const c=r.render(e);return o().createElement(b,{html:"function"===typeof p?p(c):c,variables:a,components:i})}),y=(0,r.useMemo)(()=>d(n),[n,d]);return"function"===typeof t?t(y):y}}}]);
//# sourceMappingURL=830.f3a5ed87.chunk.js.map
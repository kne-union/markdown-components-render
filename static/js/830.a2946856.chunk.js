"use strict";(self.webpackChunk_kne_components_markdown_components_render=self.webpackChunk_kne_components_markdown_components_render||[]).push([[830],{71830:(e,n,t)=>{t.r(n),t.d(n,{default:()=>O,preset:()=>g});var r=t(94922),o=t.n(r),s=t(74358),c=t(54137),a=t(14225),i=t.n(a),p=t(78678),u=t(64755),l=t.n(u);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},m.apply(null,arguments)}const f=(new(i())).compile({type:"object",properties:{"md-components":{type:"object",properties:{type:{type:"string"},props:{type:"object"}},required:["type","props"]}},required:["md-components"]}),d=function(e){const n=e.renderer.rules.fence;e.renderer.rules.fence=function(e,t,r,o,s){const a=e[t];if("yml"===a.info.trim()){const e=c.Ay.load(a.content);if(f(e)){const n=document.createElement("pre");return n.setAttribute("class","yaml-components"),n.dataset.components=JSON.stringify(e),n.outerHTML}}return n(e,t,r,o,s)}},y=(e,n)=>{if(Array.isArray(e))return e.map((e=>y(e,n)));if(e&&"[object Object]"===e.toString()&&Object.keys(e).length>0){const t={};return Object.keys(e).forEach((r=>{t[r]=y(e[r],n)})),t}return e&&"string"===typeof e&&"$"===e.charAt(0)&&n[e.substring(1)]?n[e.substring(1)]:e},b={};var g=e=>Object.assign(b,e);const h=["children"],O=e=>{let{children:n=""}=e,t=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,h);const{htmlTransform:c,components:a={},variables:i={},options:u}=l()({},b,t),f=(0,p.A)((e=>{const{config:n,plugins:t}=Object.assign({},u,{config:{},plugins:[]}),r=(0,s.A)(n);t.forEach((e=>{const n=Array.isArray(e)?e:[e];r.use(...n)})),r.use(d);const p=r.render(e),l=document.createElement("div");return l.innerHTML="function"===typeof c?c(p):p,[].slice.call(l.children).map(((e,n)=>{if("yaml-components"===e.className&&e.dataset.components){const t=JSON.parse(e.dataset.components);if(!t["md-components"])return null;const{type:r,props:s}=t["md-components"],c=a[r];return c?o().createElement(c,m({},Object.assign({},y(s,i)),{key:n})):null}return o().createElement(e.tagName.toLowerCase(),{key:n,dangerouslySetInnerHTML:{__html:e.innerHTML}})}))}));return(0,r.useMemo)((()=>f(n)),[n,f])}}}]);
//# sourceMappingURL=830.a2946856.chunk.js.map